@use 'visuals/grid';
@use 'visuals/size';
@use 'visuals/typography';

.grid-landing {
  grid-template-rows: repeat(11, size.$size-157);
  margin-bottom: size.$size-27;
  margin-top: size.$size-211;

  .cover {
    grid-column: 1/5;
    grid-row: 1/4;

    .headline {
      margin-bottom: size.$size-14;
    }
  }

  %featured-header {
    align-self: end;
    grid-column: 1/-1;
  }

  .featured-projects-header {
    @extend %featured-header;
    grid-row: 4/5;
  }

  .featured-case-studies-header {
    @extend %featured-header;
    grid-row: 8/9;
  }

  .subgrid-featured {
    grid-column: 1/-1;
    grid-template-rows: repeat(3, 1fr);

    > figure {
      > .blind-frame {
        grid-column: 1/4;
        grid-row: 1/3;
      }

      > figcaption {
        grid-column: 1/4;
        grid-row: 3/4;
      }

      img {
        height: 100%;
        object-fit: cover;
        width: 100%;
      }
    }
  }

  .featured-projects {
    grid-row: 5/8;
  }

  %subgrid-featured-project {
    @include grid.grid-base;
    grid-row: 1/4;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(3, 1fr);
  }

  .subgrid-featured-a {
    @extend %subgrid-featured-project;
    grid-column: 1/4;
  }

  .subgrid-featured-b {
    @extend %subgrid-featured-project;
    grid-column: 4/7;
  }

  .featured-case-studies {
    grid-row: 9/12;
  }

  %view-more {
    align-self: end;
    grid-column: 1/-1;
    justify-self: center;
  }

  .view-more-projects {
    @extend %view-more;
    grid-row: 7/8;
  }

  .view-more-case-studies {
    @extend %view-more;
    grid-row: 11/12;
  }
}

@media (max-width: size.$size-1140) {
  .grid-landing {
    .subgrid-featured {
      grid-template-columns: 1fr 1fr;
      grid-template-rows: auto;
    }

    .subgrid-featured-a {
      grid-column: 1/2;
    }

    .subgrid-featured-b {
      grid-column: 2/3;
    }
  }
}

@media (max-width: size.$size-960) {
  .grid-landing {
    grid-template-rows: repeat(4, size.$size-147) auto size.$size-147 auto;
    margin-top: size.$size-201;

    .cover {
      grid-column: 1/-1;
    }

    .featured-case-studies-header {
      grid-row: 6/7;
    }

    .subgrid-featured {
      display: block;

      > figure {
        > figcaption {
          height: size.$size-147;
          margin-bottom: size.$size-27;
        }

        img {
          margin-bottom: size.$size-27;
        }
      }
    }

    .featured-projects,
    .featured-case-studies {
      .subgrid-featured-a,
      .subgrid-featured-b {
        display: block;
      }
    }

    .featured-projects {
      grid-row: 5/6;
    }

    .featured-case-studies {
      grid-row: 7/8;
    }

    .view-more-projects {
      grid-row: 5/6;
      justify-self: start;
    }

    .view-more-case-studies {
      grid-row: 7/8;
      justify-self: start;
    }
  }
}

@media (max-width: size.$size-560) {
  .grid-landing {
    grid-template-rows: repeat(5, size.$size-147) auto size.$size-147 auto;

    .featured-projects-header {
      grid-row: 5/6;
    }

    .featured-case-studies-header {
      grid-row: 7/8;
    }

    .featured-projects {
      grid-row: 6/7;
    }

    .featured-case-studies {
      grid-row: 8/9;
    }

    .view-more-projects {
      grid-row: 6/7;
    }

    .view-more-case-studies {
      grid-row: 8/9;
    }
  }
}

@media (max-width: size.$size-470) {
  .grid-landing {
    grid-template-rows: repeat(3, size.$size-176) auto size.$size-176 auto;
    margin-bottom: size.$size-24;
    margin-top: 0;

    .cover {
      .headline {
        margin-bottom: size.$size-12;
      }
    }

    .featured-projects-header {
      grid-row: 3/4;
    }

    .featured-case-studies-header {
      grid-row: 5/6;
    }

    .subgrid-featured {
      > figure {
        > figcaption {
          height: size.$size-176;
          margin-bottom: size.$size-24;
        }

        img {
          margin-bottom: size.$size-24;
        }
      }
    }

    .featured-projects {
      grid-row: 4/5;
    }

    .featured-case-studies {
      grid-row: 6/7;
    }

    .view-more-projects {
      grid-row: 4/5;
    }

    .view-more-case-studies {
      grid-row: 6/7;
    }
  }
}
